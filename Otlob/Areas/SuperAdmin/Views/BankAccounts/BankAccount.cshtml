@model BankAccountResponse

@{
    ViewData["Title"] = "Bank Account Document";
}

<link rel="stylesheet" href="~/css/documents.css" asp-append-version="true" />

<div class="doc-page">
    <!-- Hero Section -->
    <div class="doc-hero">
        <div class="doc-hero-content">
            <div class="doc-hero-top">
                <a class="doc-back-btn" 
                   asp-area="SuperAdmin"
                   asp-controller="Restaurants" 
                   asp-action="ResturantDetails" 
                   asp-route-id="@Model.RestaurantId">
                    <i class="fas fa-arrow-left"></i>
                    Back to Restaurant
                </a>
                <span class="doc-status-badge status-@Model.Status.ToString().ToLower()">
                    @if (Model.Status == DocumentStatus.Accepted)
                    {
                        <i class="fas fa-check-circle"></i>
                    }
                    else if (Model.Status == DocumentStatus.Rejected)
                    {
                        <i class="fas fa-times-circle"></i>
                    }
                    else
                    {
                        <i class="fas fa-clock"></i>
                    }
                    @Model.Status
                </span>
            </div>
            <div class="doc-hero-main">
                <div class="doc-icon-wrapper">
                    <i class="fas fa-university"></i>
                </div>
                <div class="doc-hero-info">
                    <h1 class="doc-title">Bank Account Certificate</h1>
                    <p class="doc-subtitle">Bank account verification for payment processing</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="doc-main">
        <!-- Quick Stats -->
        <div class="doc-quick-stats">
            <div class="doc-stat-card">
                <div class="doc-stat-icon primary">
                    <i class="fas fa-user-tie"></i>
                </div>
                <div class="doc-stat-content">
                    <div class="doc-stat-value">@Model.AccountHolderName.Split(' ').FirstOrDefault()</div>
                    <div class="doc-stat-label">Account Holder</div>
                </div>
            </div>
            <div class="doc-stat-card">
                <div class="doc-stat-icon success">
                    <i class="fas fa-building"></i>
                </div>
                <div class="doc-stat-content">
                    <div class="doc-stat-value">@Model.BankName</div>
                    <div class="doc-stat-label">Bank</div>
                </div>
            </div>
            <div class="doc-stat-card">
                <div class="doc-stat-icon warning">
                    <i class="fas fa-credit-card"></i>
                </div>
                <div class="doc-stat-content">
                    <div class="doc-stat-value">@Model.AccountType</div>
                    <div class="doc-stat-label">Account Type</div>
                </div>
            </div>
        </div>

        <div class="doc-content-grid">
            <!-- Left Column - Info Cards -->
            <div class="doc-info-column">
                <!-- Account Holder Information Card -->
                <div class="doc-card">
                    <div class="doc-card-header">
                        <h2 class="doc-card-title">
                            <i class="fas fa-user-circle"></i>
                            Account Holder Information
                        </h2>
                    </div>
                    <div class="doc-card-body">
                        <div class="doc-info-grid">
                            <div class="doc-info-item full-width">
                                <div class="doc-info-icon">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="doc-info-content">
                                    <span class="doc-info-label">Account Holder Name</span>
                                    <div class="doc-info-value">@Model.AccountHolderName</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bank Details Card -->
                <div class="doc-card">
                    <div class="doc-card-header">
                        <h2 class="doc-card-title">
                            <i class="fas fa-university"></i>
                            Bank Details
                        </h2>
                    </div>
                    <div class="doc-card-body">
                        <div class="doc-info-grid">
                            <div class="doc-info-item">
                                <div class="doc-info-icon">
                                    <i class="fas fa-building"></i>
                                </div>
                                <div class="doc-info-content">
                                    <span class="doc-info-label">Bank Name</span>
                                    <div class="doc-info-value">@Model.BankName</div>
                                </div>
                            </div>
                            <div class="doc-info-item">
                                <div class="doc-info-icon">
                                    <i class="fas fa-credit-card"></i>
                                </div>
                                <div class="doc-info-content">
                                    <span class="doc-info-label">Account Type</span>
                                    <div class="doc-info-value">@Model.AccountType</div>
                                </div>
                            </div>
                            <div class="doc-info-item">
                                <div class="doc-info-icon">
                                    <i class="fas fa-hashtag"></i>
                                </div>
                                <div class="doc-info-content">
                                    <span class="doc-info-label">Account Number</span>
                                    <div class="doc-info-value">@Model.AccountNumber</div>
                                </div>
                            </div>
                            <div class="doc-info-item">
                                <div class="doc-info-icon">
                                    <i class="fas fa-globe"></i>
                                </div>
                                <div class="doc-info-content">
                                    <span class="doc-info-label">IBAN</span>
                                    <div class="doc-info-value">@Model.Iban</div>
                                </div>
                            </div>
                            <div class="doc-info-item full-width">
                                <div class="doc-info-icon">
                                    <i class="fas fa-calendar-check"></i>
                                </div>
                                <div class="doc-info-content">
                                    <span class="doc-info-label">Certificate Issue Date</span>
                                    <div class="doc-info-value">@Model.BankCertificateIssueDate.ToString("MMMM dd, yyyy")</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column - Sidebar -->
            <div class="doc-sidebar">
                <!-- Certificate File -->
                <div class="doc-file-card">
                    <h3>
                        <i class="fas fa-file-invoice"></i>
                        Bank Certificate
                    </h3>
                    <div class="doc-file-icon">
                        <i class="fas fa-file-pdf"></i>
                    </div>
                    <div class="doc-file-name">@Model.BankAccountCertificate.FileName</div>
                    <div class="doc-file-actions">
                        <a asp-area="SuperAdmin"
                           asp-controller="Documents" 
                           asp-action="Download" 
                           asp-route-id="@Model.BankAccountCertificate.Id"
                           class="doc-btn doc-btn-download">
                            <i class="fas fa-download"></i>
                            Download
                        </a>
                    </div>
                </div>

                <!-- Status Actions Card -->
                <div class="doc-action-card">
                    <div class="doc-action-header">
                        <h3 class="doc-action-title">
                            <i class="fas fa-sliders-h"></i>
                            Change Status
                        </h3>
                    </div>
                    <div class="doc-action-body">
                        @foreach (var status in Enum.GetValues<DocumentStatus>())
                        {
                            @if (status != Model.Status)
                            {
                                <a asp-area="SuperAdmin"
                                   asp-controller="BankAccounts"
                                   asp-action="ChangeBankAccountDocumentStatus" 
                                   asp-route-id="@Model.Id"
                                   asp-route-status="@status"
                                   asp-route-restaurantId="@Model.RestaurantId"
                                   class="doc-btn-status @(status == DocumentStatus.Accepted ? "doc-btn-accept" : status == DocumentStatus.Rejected ? "doc-btn-reject" : "doc-btn-pending")">
                                    @if (status == DocumentStatus.Accepted)
                                    {
                                        <i class="fas fa-check"></i>
                                    }
                                    else if (status == DocumentStatus.Rejected)
                                    {
                                        <i class="fas fa-times"></i>
                                    }
                                    else
                                    {
                                        <i class="fas fa-clock"></i>
                                    }
                                    @status.ToString()
                                </a>
                            }
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_NotificationPartial"></partial>
}
